<div id="ajax_question_edit">

    {{ form_start(form) }}
	<div class="modal-header">
		<h5 class="modal-title">
			Edition de la question #
			{{ question.id }}
		</h5>
		<button type="button" class="close" data-dismiss="modal" aria-label="Close">
			<span aria-hidden="true">&times;</span>
		</button>
	</div>
	
	<div class="modal-body">
		
		<div class="card shadow-sm">
         	<div class="card-header">
            	Aperçu
          	</div>
          	<div class="card-body">
            	<div id="content-preview-question">
            		
            	</div>
          </div>
        </div>
        
        <hr />
        
	{{ form_row(form.type, {"id":"question_liste_select_type"}) }}
	
	<div class="row">
		<div class="col-md-6">
			<h6>Configuration simple</h6>
			{{ form_row(form.libelle, {"id":"question_libelle"}) }}
			{{ form_row(form.libelle_bottom, {"id":"question_libelle_bottom"}) }}

		
		</div>
		<div class="col-md-6">
			<h6>Avancée</h6>
			{{ form_row(form.libelle_top, {"id":"question_libelle_top"}) }}
		</div>
	</div>
	
	<div class="modal-footer">
		<!-- <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button> -->
		{{ form_widget(form.save) }}
	</div>
	    {# form_rest(form) #}
	{{ form_end(form) }}
</div>

 {% block script %}
 	<script src="{{ asset('assets/js/question/Preview.js') }}?{{ date().timestamp }}"></script>
 {% endblock %}

{% block javascripts %}
<script type="text/javascript">
    
    $('#modal_questionnaire_global').modal({
    	   'show' : true,
    	   'backdrop' : 'static'
    });
    
	var url = '{{path('question_ajax_edit', {'id': question.id }) }}';
	Question.EventEditSubmit(url);

	var params = {
			id_global : '#ajax_question_edit',
			id_preview : '#content-preview-question',
			liste_type_json : JSON.parse('{{ liste_type|json_encode() | raw }}')
	};

	Preview.Launch(params);
	Preview.Load();
	Preview.Event();

	


    </script>
{% endblock %}